// Generated by CoffeeScript 1.12.4
var util,
  indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

util = require('util');

exports.inspect = function(tag, o) {
  return console.log("[" + tag + "]", util.inspect(o, {
    colors: true,
    depth: null
  }));
};

exports.sortBy = function(l, fn) {
  return l.sort(function(a, b) {
    return fn(b) - fn(a);
  });
};

exports.flatten = function(ls) {
  var flat, i, j, k, l, len, len1;
  flat = [];
  for (j = 0, len = ls.length; j < len; j++) {
    l = ls[j];
    for (k = 0, len1 = l.length; k < len1; k++) {
      i = l[k];
      flat.push(i);
    }
  }
  return flat;
};

exports.randomChoice = function(l) {
  return l[Math.floor(Math.random() * l.length)];
};

exports.fixPunctuation = function(s) {
  var ref;
  s = s.trim().replace(/\s+/g, ' ');
  s = s.replace(/\ ([,.!?])/g, '$1');
  s = s.trim();
  if (ref = s.slice(-1)[0], indexOf.call('.!?', ref) < 0) {
    s += '.';
  }
  return s;
};
